{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/callbacks.js","pingpp.js","src/channels/extras/wx_jssdk.js","src/channels/wx_pub.js","src/collection.js","src/init.js","src/libs/md5.js","src/main.js","src/mods.js","src/payment_elements.js","src/stash.js","src/testmode.js","src/utils.js","src/version.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pingpp","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","payment_elements","userCallback","undefined","innerCallback","result","err","error","clear","msg","extra","./payment_elements.js","2","stash","callbacks","jssdkEnabled","wx","signature","callpay","wxConfigFailed","config","debug","appId","jsApiParameters","timestamp","timeStamp","nonceStr","jsApiList","ready","chooseWXPay","package","signType","paySign","success","res","errMsg","cancel","fail","../../callbacks","../../stash","3","utils","mods","hasOwn","hasOwnProperty","PINGPP_NOTIFY_URL_BASE","handleCharge","charge","credential","channel","fields","k","wx_jssdk","getExtraModule","WeixinJSBridge","eventCallback","jsApiCall","document","addEventListener","attachEvent","invoke","err_msg","runTestMode","dopay","confirm","path","or_id","id","request","data","status","../callbacks","../mods","../stash","../utils","4","md5","collection","seperator","limit","report_url","timeout","getParam","str","param","reg","RegExp","substr","match","unescape","getUserAgent","navigator","userAgent","getHost","location","host","store","obj","localStorage","_this","reportData","app_id","ch_id","type","user_agent","time","Date","getTime","puid","reportStr","statsToSave","getItem","setItem","send","pppOneStats","split","origin","token","join","push","removeItem","X-Pingpp-Report-Token","report","setTimeout","./libs/md5","./stash","./utils","5","dc","SRC_URL","init","documentReady","initPuid","randomString","getElementById","iframe","createElement","src","style","display","body","appendChild","./collection","6","safe_add","x","y","lsw","msw","bit_rol","num","cnt","md5_cmn","q","b","md5_ff","c","d","md5_gg","md5_hh","md5_ii","binl_md5","len","olda","oldb","oldc","oldd","binl2rstr","input","output","String","fromCharCode","rstr2binl","charCodeAt","rstr_md5","rstr_hmac_md5","key","hash","bkey","ipad","opad","concat","rstr2hex","hex_tab","charAt","str2rstr_utf8","encodeURIComponent","raw_md5","hex_md5","raw_hmac_md5","hex_hmac_md5","string","raw","7","version","v","testmode","PingppSDK","prototype","createPayment","chargeJSON","callback","app","channelModule","getChannelModule","console","livemode","setAPURL","url","APURL","./callbacks","./init","./mods","./payment_elements","./testmode","./version","8","channels","wx_pub","extras","name","./channels/extras/wx_jssdk","./channels/wx_pub","9","order_no","time_expire","charge_or_order","JSON","parse","object","merchant_order_no","charge_essentials","10","11","PINGPP_MOCK_URL","params","scheme","orderNo","timeExpire","stringify","redirectTo","stringifyData","12","urlencode","method","requestData","successCallback","errorCallback","headers","XMLHttpRequest","log","xhr","toUpperCase","open","setRequestHeader","onreadystatechange","readyState","responseText","onerror","formSubmit","form","setAttribute","hiddenField","submit","chars","maxPos","Math","floor","random","href","inWeixin","ua","toLowerCase","indexOf","inAlipay","fn","loadUrlJs","sid","jsurl","nodeHead","getElementsByTagName","nodeScript","async","onload","13"],"mappings":"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","file":"pingpp.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var payment_elements = require('./payment_elements.js');\nmodule.exports = {\n\n  userCallback: undefined,\n\n  innerCallback: function(result, err) {\n    if (typeof this.userCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n      this.userCallback(result, err);\n      this.userCallback = undefined;\n      payment_elements.clear();\n    }\n  },\n\n  error: function(msg, extra) {\n    msg = (typeof msg === 'undefined') ? '' : msg;\n    extra = (typeof extra === 'undefined') ? '' : extra;\n    return {\n      msg: msg,\n      extra: extra\n    };\n  }\n};\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pingpp = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar payment_elements = require('./payment_elements.js');\nmodule.exports = {\n\n  userCallback: undefined,\n\n  innerCallback: function(result, err) {\n    if (typeof this.userCallback === 'function') {\n      if (typeof err === 'undefined') {\n        err = this.error();\n      }\n      this.userCallback(result, err);\n      this.userCallback = undefined;\n      payment_elements.clear();\n    }\n  },\n\n  error: function(msg, extra) {\n    msg = (typeof msg === 'undefined') ? '' : msg;\n    extra = (typeof extra === 'undefined') ? '' : extra;\n    return {\n      msg: msg,\n      extra: extra\n    };\n  }\n};\n\n},{\"./payment_elements.js\":9}],2:[function(require,module,exports){\nvar stash = require('../../stash');\nvar callbacks = require('../../callbacks');\n\n/*global wx*/\nmodule.exports = {\n\n  jssdkEnabled: function() {\n    return typeof wx !== 'undefined' && typeof stash.signature !== 'undefined';\n  },\n\n  callpay: function() {\n    var wxConfigFailed = false;\n    wx.config({\n      debug: typeof stash.debug == 'boolean' ? stash.debug : false,\n      appId: stash.jsApiParameters.appId,\n      timestamp: stash.jsApiParameters.timeStamp,\n      nonceStr: stash.jsApiParameters.nonceStr,\n      signature: stash.signature,\n      jsApiList: ['chooseWXPay']\n    });\n    delete stash.signature;\n    delete stash.debug;\n    wx.ready(function() {\n      if (wxConfigFailed) {\n        return;\n      }\n      wx.chooseWXPay({\n        timestamp: stash.jsApiParameters.timeStamp,\n        nonceStr: stash.jsApiParameters.nonceStr,\n        'package': stash.jsApiParameters.package,\n        signType: stash.jsApiParameters.signType,\n        paySign: stash.jsApiParameters.paySign,\n        success: function(res) {\n          delete stash.jsApiParameters;\n          if (res.errMsg == 'chooseWXPay:ok') {\n            callbacks.innerCallback('success');\n          } else {\n            callbacks.innerCallback('fail',\n              callbacks.error('wx_result_fail', res.errMsg));\n          }\n        },\n        /* eslint-disable no-unused-vars */\n        cancel: function(res) {\n          delete stash.jsApiParameters;\n          callbacks.innerCallback('cancel');\n        },\n        /* eslint-enable no-unused-vars */\n        fail: function(res) {\n          delete stash.jsApiParameters;\n          callbacks.innerCallback('fail',\n            callbacks.error('wx_result_fail', res.errMsg));\n        }\n      });\n    });\n    wx.error(function(res) {\n      wxConfigFailed = true;\n      delete stash.jsApiParameters;\n      callbacks.innerCallback('fail',\n        callbacks.error('wx_config_error', res.errMsg));\n    });\n  }\n};\n\n},{\"../../callbacks\":1,\"../../stash\":10}],3:[function(require,module,exports){\nvar callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar stash = require('../stash');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global WeixinJSBridge*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://api.pingxx.com/notify',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = [\n      'appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'\n    ];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n\n  callpay: function() {\n    var self = this;\n    var wx_jssdk = mods.getExtraModule('wx_jssdk');\n    if (typeof wx_jssdk !== 'undefined' && wx_jssdk.jssdkEnabled()) {\n      wx_jssdk.callpay();\n    } else if (typeof WeixinJSBridge == 'undefined') {\n      var eventCallback = function() {\n        self.jsApiCall();\n      };\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady',\n          eventCallback, false);\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', eventCallback);\n        document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n      }\n    } else {\n      this.jsApiCall();\n    }\n  },\n\n  jsApiCall: function() {\n    if (hasOwn.call(stash, 'jsApiParameters')) {\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest',\n        stash.jsApiParameters,\n        function(res) {\n          delete stash.jsApiParameters;\n          if (res.err_msg == 'get_brand_wcpay_request:ok') {\n            callbacks.innerCallback('success');\n          } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n            callbacks.innerCallback('cancel');\n          } else {\n            callbacks.innerCallback('fail',\n              callbacks.error('wx_result_fail', res.err_msg));\n          }\n        }\n      );\n    }\n  },\n\n  runTestMode: function(charge) {\n    var dopay = confirm('模拟付款？');\n    if (dopay) {\n      var path = (charge.or_id === null ? '' : '/orders/' + charge.or_id)\n          + '/charges/' + charge.id;\n      utils.request(this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n        'GET', null,\n        function(data, status) {\n          if (status >= 200 && status < 400 && data == 'success') {\n            callbacks.innerCallback('success');\n          } else {\n            var extra = 'http_code:' + status + ';response:' + data;\n            callbacks.innerCallback('fail',\n              callbacks.error('testmode_notify_fail', extra));\n          }\n        },\n        function() {\n          callbacks.innerCallback('fail', callbacks.error('network_err'));\n        });\n    }\n  }\n};\n\n},{\"../callbacks\":1,\"../mods\":8,\"../stash\":10,\"../utils\":12}],4:[function(require,module,exports){\nvar utils = require('./utils');\nvar stash = require('./stash');\nvar md5 = require('./libs/md5');\n\nvar collection = {\n  seperator: '###',\n  limit: 1,\n  report_url: 'https://statistics.pingxx.com/one_stats',\n  timeout: 100\n};\nvar getParam = function(str, param) {\n  var reg = new RegExp('(^|&)' + param + '=([^&]*)(&|$)', 'i');\n  var r = str.substr(0).match(reg);\n  if (r !== null) return unescape(r[2]);\n  return null;\n};\nvar getUserAgent = function() {\n  return navigator.userAgent;\n};\nvar getHost = function() {\n  return window.location.host;\n};\n\ncollection.store = function(obj) {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var reportData = {};\n  reportData.app_id = obj.app_id || stash.app_id || 'app_not_defined';\n  reportData.ch_id = obj.ch_id || '';\n  reportData.channel = obj.channel || '';\n  reportData.type = obj.type || '';\n  reportData.user_agent = getUserAgent();\n  reportData.host = getHost();\n  reportData.time = new Date().getTime();\n  reportData.puid = stash.puid;\n\n  var reportStr = 'app_id=' + reportData.app_id +\n    '&channel=' + reportData.channel + '&ch_id=' + reportData.ch_id +\n    '&host=' + reportData.host + '&time=' + reportData.time +\n    '&type=' + reportData.type + '&user_agent=' + reportData.user_agent +\n    '&puid=' + reportData.puid;\n\n  var statsToSave = reportStr;\n  if (localStorage.getItem('PPP_ONE_STATS') !== null &&\n    localStorage.getItem('PPP_ONE_STATS').length !== 0\n  ) {\n    statsToSave = localStorage.getItem('PPP_ONE_STATS') +\n      _this.seperator + reportStr;\n  }\n  try {\n    localStorage.setItem('PPP_ONE_STATS', statsToSave);\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.send = function() {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var pppOneStats = localStorage.getItem('PPP_ONE_STATS');\n  if (pppOneStats === null ||\n    pppOneStats.split(_this.seperator).length < _this.limit) {\n    return;\n  }\n  try {\n    var data = [];\n    var origin = pppOneStats.split(_this.seperator);\n    var token = md5(origin.join('&'));\n\n    for (var i = 0; i < origin.length; i++) {\n      data.push({\n        app_id: getParam(origin[i], 'app_id'),\n        channel: getParam(origin[i], 'channel'),\n        ch_id: getParam(origin[i], 'ch_id'),\n        host: getParam(origin[i], 'host'),\n        time: getParam(origin[i], 'time'),\n        type: getParam(origin[i], 'type'),\n        user_agent: getParam(origin[i], 'user_agent'),\n        puid: getParam(origin[i], 'puid')\n      });\n    }\n\n    utils.request(_this.report_url, 'POST', data, function(data, status) {\n      if (status == 200) {\n        localStorage.removeItem('PPP_ONE_STATS');\n      }\n    }, undefined, {\n      'X-Pingpp-Report-Token': token\n    });\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.report = function(obj) {\n  var _this = this;\n  _this.store(obj);\n  setTimeout(function(){\n    _this.send();\n  }, _this.timeout);\n};\n\nmodule.exports = collection;\n\n},{\"./libs/md5\":6,\"./stash\":10,\"./utils\":12}],5:[function(require,module,exports){\nvar stash = require('./stash');\nvar utils = require('./utils');\nvar dc = require('./collection');\n\nmodule.exports = {\n  SRC_URL: 'https://cookie.pingxx.com',\n\n  init: function() {\n    var self = this;\n    utils.documentReady(function(){\n      self.initPuid();\n    });\n  },\n\n  initPuid: function() {\n    if (typeof window === 'undefined' || typeof localStorage === 'undefined'\n        || localStorage === null) {\n      return;\n    }\n    var puid = localStorage.getItem('pingpp_uid');\n    if (puid === null) {\n      puid = utils.randomString();\n      try {\n        localStorage.setItem('pingpp_uid', puid);\n      } catch (e) {\n        /* empty */\n      }\n    }\n    stash.puid = puid;\n    if (!document.getElementById('p_analyse_iframe')) {\n      var iframe;\n      try {\n        iframe = document.createElement('iframe');\n      }catch(e){\n        iframe = document.createElement('<iframe name=\"ifr\"></iframe>');\n      }\n      iframe.id = 'p_analyse_iframe';\n      iframe.src = this.SRC_URL + '/?puid=' + puid;\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    }\n    setTimeout(function() {\n      dc.send();\n    }, 0);\n  }\n};\n\n},{\"./collection\":4,\"./stash\":10,\"./utils\":12}],6:[function(require,module,exports){\n/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global unescape, module */\n\n(function () {\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safe_add (x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xFFFF);\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bit_rol (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5_cmn (q, a, b, x, s, t) {\n    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n  }\n  function md5_ff (a, b, c, d, x, s, t) {\n    return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n  }\n  function md5_gg (a, b, c, d, x, s, t) {\n    return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n  }\n  function md5_hh (a, b, c, d, x, s, t) {\n    return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n  }\n  function md5_ii (a, b, c, d, x, s, t) {\n    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binl_md5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32);\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n    var i;\n    var olda;\n    var oldb;\n    var oldc;\n    var oldd;\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n\n      a = md5_ff(a, b, c, d, x[i], 7, -680876936);\n      d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n      c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n      b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n      a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n      d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n      c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n      b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n      a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n      d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n      c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n      b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n      a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n      d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n      c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n      b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n      a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n      d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n      c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n      b = md5_gg(b, c, d, a, x[i], 20, -373897302);\n      a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n      d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n      c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n      b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n      a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n      d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n      c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n      b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n      a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n      d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n      c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n      b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n      a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n      d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n      c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n      b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n      a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n      d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n      c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n      b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n      a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n      d = md5_hh(d, a, b, c, x[i], 11, -358537222);\n      c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n      b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n      a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n      d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n      c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n      b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n      a = md5_ii(a, b, c, d, x[i], 6, -198630844);\n      d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n      c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n      b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n      a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n      d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n      c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n      b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n      a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n      d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n      c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n      b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n      a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n      d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n      c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n      b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n      a = safe_add(a, olda);\n      b = safe_add(b, oldb);\n      c = safe_add(c, oldc);\n      d = safe_add(d, oldd);\n    }\n    return [a, b, c, d];\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i;\n    var output = '';\n    for (i = 0; i < input.length * 32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n    }\n    return output;\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i;\n    var output = [];\n    output[(input.length >> 2) - 1] = undefined;\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0;\n    }\n    for (i = 0; i < input.length * 8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n    }\n    return output;\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstr_md5 (s) {\n    return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstr_hmac_md5 (key, data) {\n    var i;\n    var bkey = rstr2binl(key);\n    var ipad = [];\n    var opad = [];\n    var hash;\n    ipad[15] = opad[15] = undefined;\n    if (bkey.length > 16) {\n      bkey = binl_md5(bkey, key.length * 8);\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636;\n      opad[i] = bkey[i] ^ 0x5C5C5C5C;\n    }\n    hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n    return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hex_tab = '0123456789abcdef';\n    var output = '';\n    var x;\n    var i;\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i);\n      output += hex_tab.charAt((x >>> 4) & 0x0F) +\n      hex_tab.charAt(x & 0x0F);\n    }\n    return output;\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstr_utf8 (input) {\n    return unescape(encodeURIComponent(input));\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function raw_md5 (s) {\n    return rstr_md5(str2rstr_utf8(s));\n  }\n  function hex_md5 (s) {\n    return rstr2hex(raw_md5(s));\n  }\n  function raw_hmac_md5 (k, d) {\n    return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d));\n  }\n  function hex_hmac_md5 (k, d) {\n    return rstr2hex(raw_hmac_md5(k, d));\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hex_md5(string);\n      }\n      return raw_md5(string);\n    }\n    if (!raw) {\n      return hex_hmac_md5(key, string);\n    }\n    return raw_hmac_md5(key, string);\n  }\n\n  module.exports = md5;\n}());\n\n},{}],7:[function(require,module,exports){\nvar version = require('./version').v;\nvar testmode = require('./testmode');\nvar callbacks = require('./callbacks');\nvar mods = require('./mods');\nvar stash = require('./stash');\nvar dc = require('./collection');\nvar payment_elements = require('./payment_elements');\n\nvar hasOwn = {}.hasOwnProperty;\nvar PingppSDK = function () {\n  require('./init').init();\n};\n\nPingppSDK.prototype = {\n\n  version: version,\n\n  createPayment: function (chargeJSON, callback, signature, debug) {\n    if (typeof callback === 'function') {\n      callbacks.userCallback = callback;\n    }\n\n    payment_elements.init(chargeJSON);\n\n    if (!hasOwn.call(payment_elements, 'id')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_charge_id'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements, 'channel')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_channel'));\n      return;\n    }\n    if (hasOwn.call(payment_elements, 'app')) {\n      if (typeof payment_elements.app === 'string') {\n        stash.app_id = payment_elements.app;\n      } else if (typeof payment_elements.app === 'object' &&\n        typeof payment_elements.app.id === 'string') {\n        stash.app_id = payment_elements.app.id;\n      }\n    }\n    dc.report({\n      type: 'pure_sdk_click',\n      channel: payment_elements.channel,\n      ch_id: payment_elements.id\n    });\n    var channel = payment_elements.channel;\n    if (!hasOwn.call(payment_elements, 'credential')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_credential'));\n      return;\n    }\n    if (!payment_elements.credential) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential_is_undefined'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements.credential, channel)) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential_is_incorrect'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements, 'livemode')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_livemode_field'));\n      return;\n    }\n    var channelModule = mods.getChannelModule(channel);\n    if (typeof channelModule === 'undefined') {\n      console.error('channel module \"' + channel + '\" is undefined');\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_channel',\n          'channel module \"' + channel + '\" is undefined')\n      );\n      return;\n    }\n    if (payment_elements.livemode === false) {\n      if (hasOwn.call(channelModule, 'runTestMode')) {\n        channelModule.runTestMode(payment_elements);\n      } else {\n        testmode.runTestMode(payment_elements);\n      }\n      return;\n    }\n\n    if (typeof signature != 'undefined') {\n      stash.signature = signature;\n    }\n    if (typeof debug == 'boolean') {\n      stash.debug = debug;\n    }\n    channelModule.handleCharge(payment_elements);\n  },\n\n  setAPURL: function (url) {\n    stash.APURL = url;\n  }\n};\n\nmodule.exports = new PingppSDK();\n\n},{\"./callbacks\":1,\"./collection\":4,\"./init\":5,\"./mods\":8,\"./payment_elements\":9,\"./stash\":10,\"./testmode\":11,\"./version\":13}],8:[function(require,module,exports){\nvar hasOwn = {}.hasOwnProperty;\nvar mods = {};\nmodule.exports = mods;\n\nmods.channels = {\n  wx_pub: require('./channels/wx_pub')\n};\n\nmods.extras = {\n  wx_jssdk: require('./channels/extras/wx_jssdk')\n};\n\nmods.getChannelModule = function(channel) {\n  if (hasOwn.call(mods.channels, channel)) {\n    return mods.channels[channel];\n  }\n  return undefined;\n};\n\nmods.getExtraModule = function(name) {\n  if (hasOwn.call(mods.extras, name)) {\n    return mods.extras[name];\n  }\n  return undefined;\n};\n\n},{\"./channels/extras/wx_jssdk\":2,\"./channels/wx_pub\":3}],9:[function(require,module,exports){\n/**\n * Created by dong on 2016/12/30.\n */\n\nvar callbacks = require('./callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n  id: null,\n  or_id: null,\n  channel: null,\n  app: null,\n  credential: {},\n  extra: null,\n  livemode: null,\n  order_no: null,\n  time_expire: null,\n\n  init: function (charge_or_order) {\n    var charge;\n    if (typeof charge_or_order === 'string') {\n      try {\n        charge = JSON.parse(charge_or_order);\n      } catch (err) {\n        callbacks.innerCallback('fail',\n          callbacks.error('json_decode_fail', err));\n        return;\n      }\n    } else {\n      charge = charge_or_order;\n    }\n\n    if (typeof charge === 'undefined') {\n      callbacks.innerCallback('fail', callbacks.error('json_decode_fail'));\n      return;\n    }\n\n    if (hasOwn.call(charge, 'object') && charge.object == 'order') {\n      charge.or_id = charge.id;\n      charge.id = charge.charge;\n      charge.order_no = charge.merchant_order_no;\n      var charge_essentials = charge.charge_essentials;\n      charge.channel = charge_essentials.channel;\n      charge.credential = charge_essentials.credential;\n      charge.extra = charge_essentials.extra;\n    }\n\n    for (var key in this) {\n      if (hasOwn.call(charge, key)) {\n        this[key] = charge[key];\n      }\n    }\n    return this;\n  },\n\n  clear: function () {\n    for (var key in this) {\n      if (typeof this[key] !== 'function') {\n        this[key] = null;\n      }\n    }\n  }\n};\n},{\"./callbacks\":1}],10:[function(require,module,exports){\nmodule.exports = {\n};\n\n},{}],11:[function(require,module,exports){\nvar utils = require('./utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  PINGPP_MOCK_URL: 'http://sissi.pingxx.com/mock.php',\n\n  runTestMode: function (charge) {\n    var params = {\n      'ch_id': charge.id,\n      'scheme': 'http',\n      'channel': charge.channel\n    };\n\n    if (hasOwn.call(charge, 'or_id') && charge.or_id !== null) {\n      params.or_id = charge.or_id;\n    }\n\n    if (hasOwn.call(charge, 'order_no')) {\n      params.order_no = charge.order_no;\n    } else if (hasOwn.call(charge, 'orderNo')) {\n      params.order_no = charge.orderNo;\n    }\n    if (hasOwn.call(charge, 'time_expire')) {\n      params.time_expire = charge.time_expire;\n    } else if (hasOwn.call(charge, 'timeExpire')) {\n      params.time_expire = charge.timeExpire;\n    }\n    if (hasOwn.call(charge, 'extra')) {\n      params.extra = encodeURIComponent(JSON.stringify(charge.extra));\n    }\n    utils.redirectTo(this.PINGPP_MOCK_URL + '?' + utils.stringifyData(params));\n  }\n};\n\n},{\"./utils\":12}],12:[function(require,module,exports){\nvar hasOwn = {}.hasOwnProperty;\n\nvar utils = module.exports = {\n\n  /**\n   * 对象转换成 query string\n   * @param object data  待转对象\n   * @param string channel  渠道\n   * @param boolean urlencode  是否需要 urlencode\n   *\n   * @return string query string\n   */\n  stringifyData: function (data, channel, urlencode) {\n    if (typeof urlencode == 'undefined') {\n      urlencode = false;\n    }\n    var output = [];\n    for (var i in data) {\n      if (!hasOwn.call(data, i) || typeof data[i] === 'function') {\n        continue;\n      }\n      if (channel == 'bfb_wap' && i == 'url') {\n        continue;\n      }\n      if (channel == 'yeepay_wap' && i == 'mode') {\n        continue;\n      }\n      if (i == 'channel_url') {\n        continue;\n      }\n      output.push(i + '=' +\n        (urlencode ? encodeURIComponent(data[i]) : data[i]));\n    }\n    return output.join('&');\n  },\n\n  /**\n   * 网络请求\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object requestData  请求数据\n   * @param function successCallback  成功回调 (data, statusCode, xhr)\n   * @param function errorCallback  错误回调 (xhr, statusCode, error)\n   */\n  request: function (url, method, requestData,\n    successCallback, errorCallback, headers) {\n    if (typeof XMLHttpRequest === 'undefined') {\n      console.log('Function XMLHttpRequest is undefined.');\n      return;\n    }\n    var xhr = new XMLHttpRequest();\n    if (typeof xhr.timeout !== 'undefined') {\n      xhr.timeout = 6000;\n    }\n    method = method.toUpperCase();\n\n    if (method === 'GET' && typeof requestData === 'object' && requestData) {\n      url += '?' + utils.stringifyData(requestData, '', true);\n    }\n    xhr.open(method, url, true);\n    if (typeof headers !== 'undefined') {\n      for (var k in headers) {\n        if (hasOwn.call(headers, k)) {\n          xhr.setRequestHeader(k, headers[k]);\n        }\n      }\n    }\n    if (method === 'POST') {\n      xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n      xhr.send(JSON.stringify(requestData));\n    } else {\n      xhr.send();\n    }\n    if (typeof successCallback == 'undefined') {\n      successCallback = function () {};\n    }\n    if (typeof errorCallback == 'undefined') {\n      errorCallback = function () {};\n    }\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        successCallback(xhr.responseText, xhr.status, xhr);\n      }\n    };\n    xhr.onerror = function (e) {\n      errorCallback(xhr, 0, e);\n    };\n  },\n\n  /**\n   * 表单提交\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object params  请求数据\n   */\n  formSubmit: function (url, method, params) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, form submit url: ' + url);\n      return;\n    }\n    var form = document.createElement('form');\n    form.setAttribute('method', method);\n    form.setAttribute('action', url);\n\n    for (var key in params) {\n      if (hasOwn.call(params, key)) {\n        var hiddenField = document.createElement('input');\n        hiddenField.setAttribute('type', 'hidden');\n        hiddenField.setAttribute('name', key);\n        hiddenField.setAttribute('value', params[key]);\n        form.appendChild(hiddenField);\n      }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  },\n\n  randomString: function (length) {\n    if (typeof length == 'undefined') {\n      length = 32;\n    }\n    var chars =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var maxPos = chars.length;\n    var str = '';\n    for (var i = 0; i < length; i++) {\n      str += chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n\n    return str;\n  },\n\n  redirectTo: function (url) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, redirect url: ' + url);\n      return;\n    }\n    window.location.href = url;\n  },\n\n  inWeixin: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('micromessenger') !== -1;\n  },\n\n  inAlipay: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('alipayclient') !== -1;\n  },\n\n  documentReady: function (fn) {\n    if (typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    if (document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  },\n\n  loadUrlJs: function (sid, jsurl, callback) {\n    var nodeHead = document.getElementsByTagName('head')[0];\n    var nodeScript = null;\n    if (document.getElementById(sid) == null) {\n      nodeScript = document.createElement('script');\n      nodeScript.setAttribute('type', 'text/javascript');\n      nodeScript.setAttribute('src', jsurl);\n      nodeScript.setAttribute('id', sid);\n      nodeScript.async = true;\n      if (callback != null) {\n        nodeScript.onload = nodeScript.onreadystatechange = function () {\n          if (nodeScript.ready) {\n            return false;\n          }\n\n          if (!nodeScript.readyState || nodeScript.readyState == 'loaded'\n              || nodeScript.readyState == 'complete') {\n            nodeScript.ready = true;\n            callback();\n          }\n        };\n      }\n      nodeHead.appendChild(nodeScript);\n    } else {\n      if (callback != null) {\n        callback();\n      }\n    }\n  }\n};\n\n},{}],13:[function(require,module,exports){\nmodule.exports = {\n  v: '2.1.9'\n};\n\n},{}]},{},[7])(7)\n});\n\n","var stash = require('../../stash');\nvar callbacks = require('../../callbacks');\n\n/*global wx*/\nmodule.exports = {\n\n  jssdkEnabled: function() {\n    return typeof wx !== 'undefined' && typeof stash.signature !== 'undefined';\n  },\n\n  callpay: function() {\n    var wxConfigFailed = false;\n    wx.config({\n      debug: typeof stash.debug == 'boolean' ? stash.debug : false,\n      appId: stash.jsApiParameters.appId,\n      timestamp: stash.jsApiParameters.timeStamp,\n      nonceStr: stash.jsApiParameters.nonceStr,\n      signature: stash.signature,\n      jsApiList: ['chooseWXPay']\n    });\n    delete stash.signature;\n    delete stash.debug;\n    wx.ready(function() {\n      if (wxConfigFailed) {\n        return;\n      }\n      wx.chooseWXPay({\n        timestamp: stash.jsApiParameters.timeStamp,\n        nonceStr: stash.jsApiParameters.nonceStr,\n        'package': stash.jsApiParameters.package,\n        signType: stash.jsApiParameters.signType,\n        paySign: stash.jsApiParameters.paySign,\n        success: function(res) {\n          delete stash.jsApiParameters;\n          if (res.errMsg == 'chooseWXPay:ok') {\n            callbacks.innerCallback('success');\n          } else {\n            callbacks.innerCallback('fail',\n              callbacks.error('wx_result_fail', res.errMsg));\n          }\n        },\n        /* eslint-disable no-unused-vars */\n        cancel: function(res) {\n          delete stash.jsApiParameters;\n          callbacks.innerCallback('cancel');\n        },\n        /* eslint-enable no-unused-vars */\n        fail: function(res) {\n          delete stash.jsApiParameters;\n          callbacks.innerCallback('fail',\n            callbacks.error('wx_result_fail', res.errMsg));\n        }\n      });\n    });\n    wx.error(function(res) {\n      wxConfigFailed = true;\n      delete stash.jsApiParameters;\n      callbacks.innerCallback('fail',\n        callbacks.error('wx_config_error', res.errMsg));\n    });\n  }\n};\n","var callbacks = require('../callbacks');\nvar utils = require('../utils');\nvar stash = require('../stash');\nvar mods = require('../mods');\nvar hasOwn = {}.hasOwnProperty;\n\n/*global WeixinJSBridge*/\nmodule.exports = {\n\n  PINGPP_NOTIFY_URL_BASE: 'https://api.pingxx.com/notify',\n\n  handleCharge: function(charge) {\n    var credential = charge.credential[charge.channel];\n    var fields = [\n      'appId', 'timeStamp', 'nonceStr', 'package', 'signType', 'paySign'\n    ];\n    for (var k = 0; k < fields.length; k++) {\n      if (!hasOwn.call(credential, fields[k])) {\n        callbacks.innerCallback('fail',\n          callbacks.error('invalid_credential', 'missing_field_' + fields[k]));\n        return;\n      }\n    }\n    stash.jsApiParameters = credential;\n    this.callpay();\n  },\n\n  callpay: function() {\n    var self = this;\n    var wx_jssdk = mods.getExtraModule('wx_jssdk');\n    if (typeof wx_jssdk !== 'undefined' && wx_jssdk.jssdkEnabled()) {\n      wx_jssdk.callpay();\n    } else if (typeof WeixinJSBridge == 'undefined') {\n      var eventCallback = function() {\n        self.jsApiCall();\n      };\n      if (document.addEventListener) {\n        document.addEventListener('WeixinJSBridgeReady',\n          eventCallback, false);\n      } else if (document.attachEvent) {\n        document.attachEvent('WeixinJSBridgeReady', eventCallback);\n        document.attachEvent('onWeixinJSBridgeReady', eventCallback);\n      }\n    } else {\n      this.jsApiCall();\n    }\n  },\n\n  jsApiCall: function() {\n    if (hasOwn.call(stash, 'jsApiParameters')) {\n      WeixinJSBridge.invoke(\n        'getBrandWCPayRequest',\n        stash.jsApiParameters,\n        function(res) {\n          delete stash.jsApiParameters;\n          if (res.err_msg == 'get_brand_wcpay_request:ok') {\n            callbacks.innerCallback('success');\n          } else if (res.err_msg == 'get_brand_wcpay_request:cancel') {\n            callbacks.innerCallback('cancel');\n          } else {\n            callbacks.innerCallback('fail',\n              callbacks.error('wx_result_fail', res.err_msg));\n          }\n        }\n      );\n    }\n  },\n\n  runTestMode: function(charge) {\n    var dopay = confirm('模拟付款？');\n    if (dopay) {\n      var path = (charge.or_id === null ? '' : '/orders/' + charge.or_id)\n          + '/charges/' + charge.id;\n      utils.request(this.PINGPP_NOTIFY_URL_BASE + path + '?livemode=false',\n        'GET', null,\n        function(data, status) {\n          if (status >= 200 && status < 400 && data == 'success') {\n            callbacks.innerCallback('success');\n          } else {\n            var extra = 'http_code:' + status + ';response:' + data;\n            callbacks.innerCallback('fail',\n              callbacks.error('testmode_notify_fail', extra));\n          }\n        },\n        function() {\n          callbacks.innerCallback('fail', callbacks.error('network_err'));\n        });\n    }\n  }\n};\n","var utils = require('./utils');\nvar stash = require('./stash');\nvar md5 = require('./libs/md5');\n\nvar collection = {\n  seperator: '###',\n  limit: 1,\n  report_url: 'https://statistics.pingxx.com/one_stats',\n  timeout: 100\n};\nvar getParam = function(str, param) {\n  var reg = new RegExp('(^|&)' + param + '=([^&]*)(&|$)', 'i');\n  var r = str.substr(0).match(reg);\n  if (r !== null) return unescape(r[2]);\n  return null;\n};\nvar getUserAgent = function() {\n  return navigator.userAgent;\n};\nvar getHost = function() {\n  return window.location.host;\n};\n\ncollection.store = function(obj) {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var reportData = {};\n  reportData.app_id = obj.app_id || stash.app_id || 'app_not_defined';\n  reportData.ch_id = obj.ch_id || '';\n  reportData.channel = obj.channel || '';\n  reportData.type = obj.type || '';\n  reportData.user_agent = getUserAgent();\n  reportData.host = getHost();\n  reportData.time = new Date().getTime();\n  reportData.puid = stash.puid;\n\n  var reportStr = 'app_id=' + reportData.app_id +\n    '&channel=' + reportData.channel + '&ch_id=' + reportData.ch_id +\n    '&host=' + reportData.host + '&time=' + reportData.time +\n    '&type=' + reportData.type + '&user_agent=' + reportData.user_agent +\n    '&puid=' + reportData.puid;\n\n  var statsToSave = reportStr;\n  if (localStorage.getItem('PPP_ONE_STATS') !== null &&\n    localStorage.getItem('PPP_ONE_STATS').length !== 0\n  ) {\n    statsToSave = localStorage.getItem('PPP_ONE_STATS') +\n      _this.seperator + reportStr;\n  }\n  try {\n    localStorage.setItem('PPP_ONE_STATS', statsToSave);\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.send = function() {\n  if (typeof localStorage === 'undefined' || localStorage === null) return;\n  var _this = this;\n  var pppOneStats = localStorage.getItem('PPP_ONE_STATS');\n  if (pppOneStats === null ||\n    pppOneStats.split(_this.seperator).length < _this.limit) {\n    return;\n  }\n  try {\n    var data = [];\n    var origin = pppOneStats.split(_this.seperator);\n    var token = md5(origin.join('&'));\n\n    for (var i = 0; i < origin.length; i++) {\n      data.push({\n        app_id: getParam(origin[i], 'app_id'),\n        channel: getParam(origin[i], 'channel'),\n        ch_id: getParam(origin[i], 'ch_id'),\n        host: getParam(origin[i], 'host'),\n        time: getParam(origin[i], 'time'),\n        type: getParam(origin[i], 'type'),\n        user_agent: getParam(origin[i], 'user_agent'),\n        puid: getParam(origin[i], 'puid')\n      });\n    }\n\n    utils.request(_this.report_url, 'POST', data, function(data, status) {\n      if (status == 200) {\n        localStorage.removeItem('PPP_ONE_STATS');\n      }\n    }, undefined, {\n      'X-Pingpp-Report-Token': token\n    });\n  } catch (e) {\n    /* empty */\n  }\n};\n\ncollection.report = function(obj) {\n  var _this = this;\n  _this.store(obj);\n  setTimeout(function(){\n    _this.send();\n  }, _this.timeout);\n};\n\nmodule.exports = collection;\n","var stash = require('./stash');\nvar utils = require('./utils');\nvar dc = require('./collection');\n\nmodule.exports = {\n  SRC_URL: 'https://cookie.pingxx.com',\n\n  init: function() {\n    var self = this;\n    utils.documentReady(function(){\n      self.initPuid();\n    });\n  },\n\n  initPuid: function() {\n    if (typeof window === 'undefined' || typeof localStorage === 'undefined'\n        || localStorage === null) {\n      return;\n    }\n    var puid = localStorage.getItem('pingpp_uid');\n    if (puid === null) {\n      puid = utils.randomString();\n      try {\n        localStorage.setItem('pingpp_uid', puid);\n      } catch (e) {\n        /* empty */\n      }\n    }\n    stash.puid = puid;\n    if (!document.getElementById('p_analyse_iframe')) {\n      var iframe;\n      try {\n        iframe = document.createElement('iframe');\n      }catch(e){\n        iframe = document.createElement('<iframe name=\"ifr\"></iframe>');\n      }\n      iframe.id = 'p_analyse_iframe';\n      iframe.src = this.SRC_URL + '/?puid=' + puid;\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n    }\n    setTimeout(function() {\n      dc.send();\n    }, 0);\n  }\n};\n","/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global unescape, module */\n\n(function () {\n  /*\n  * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n  * to work around bugs in some JS interpreters.\n  */\n  function safe_add (x, y) {\n    var lsw = (x & 0xFFFF) + (y & 0xFFFF);\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n    return (msw << 16) | (lsw & 0xFFFF);\n  }\n\n  /*\n  * Bitwise rotate a 32-bit number to the left.\n  */\n  function bit_rol (num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt));\n  }\n\n  /*\n  * These functions implement the four basic operations the algorithm uses.\n  */\n  function md5_cmn (q, a, b, x, s, t) {\n    return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b);\n  }\n  function md5_ff (a, b, c, d, x, s, t) {\n    return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);\n  }\n  function md5_gg (a, b, c, d, x, s, t) {\n    return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);\n  }\n  function md5_hh (a, b, c, d, x, s, t) {\n    return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n  }\n  function md5_ii (a, b, c, d, x, s, t) {\n    return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n  }\n\n  /*\n  * Calculate the MD5 of an array of little-endian words, and a bit length.\n  */\n  function binl_md5 (x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << (len % 32);\n    x[(((len + 64) >>> 9) << 4) + 14] = len;\n\n    var i;\n    var olda;\n    var oldb;\n    var oldc;\n    var oldd;\n    var a = 1732584193;\n    var b = -271733879;\n    var c = -1732584194;\n    var d = 271733878;\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a;\n      oldb = b;\n      oldc = c;\n      oldd = d;\n\n      a = md5_ff(a, b, c, d, x[i], 7, -680876936);\n      d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);\n      c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);\n      b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);\n      a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);\n      d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);\n      c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);\n      b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);\n      a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);\n      d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);\n      c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);\n      b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);\n      a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);\n      d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);\n      c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);\n      b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);\n\n      a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);\n      d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);\n      c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);\n      b = md5_gg(b, c, d, a, x[i], 20, -373897302);\n      a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);\n      d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);\n      c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);\n      b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);\n      a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);\n      d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);\n      c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);\n      b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);\n      a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);\n      d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);\n      c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);\n      b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);\n\n      a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);\n      d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);\n      c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);\n      b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);\n      a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);\n      d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);\n      c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);\n      b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);\n      a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);\n      d = md5_hh(d, a, b, c, x[i], 11, -358537222);\n      c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);\n      b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);\n      a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);\n      d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);\n      c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);\n      b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);\n\n      a = md5_ii(a, b, c, d, x[i], 6, -198630844);\n      d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);\n      c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);\n      b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);\n      a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);\n      d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);\n      c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);\n      b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);\n      a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);\n      d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);\n      c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);\n      b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);\n      a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);\n      d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);\n      c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);\n      b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);\n\n      a = safe_add(a, olda);\n      b = safe_add(b, oldb);\n      c = safe_add(c, oldc);\n      d = safe_add(d, oldd);\n    }\n    return [a, b, c, d];\n  }\n\n  /*\n  * Convert an array of little-endian words to a string\n  */\n  function binl2rstr (input) {\n    var i;\n    var output = '';\n    for (i = 0; i < input.length * 32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> (i % 32)) & 0xFF);\n    }\n    return output;\n  }\n\n  /*\n  * Convert a raw string to an array of little-endian words\n  * Characters >255 have their high-byte silently ignored.\n  */\n  function rstr2binl (input) {\n    var i;\n    var output = [];\n    output[(input.length >> 2) - 1] = undefined;\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0;\n    }\n    for (i = 0; i < input.length * 8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xFF) << (i % 32);\n    }\n    return output;\n  }\n\n  /*\n  * Calculate the MD5 of a raw string\n  */\n  function rstr_md5 (s) {\n    return binl2rstr(binl_md5(rstr2binl(s), s.length * 8));\n  }\n\n  /*\n  * Calculate the HMAC-MD5, of a key and some data (raw strings)\n  */\n  function rstr_hmac_md5 (key, data) {\n    var i;\n    var bkey = rstr2binl(key);\n    var ipad = [];\n    var opad = [];\n    var hash;\n    ipad[15] = opad[15] = undefined;\n    if (bkey.length > 16) {\n      bkey = binl_md5(bkey, key.length * 8);\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636;\n      opad[i] = bkey[i] ^ 0x5C5C5C5C;\n    }\n    hash = binl_md5(ipad.concat(rstr2binl(data)), 512 + data.length * 8);\n    return binl2rstr(binl_md5(opad.concat(hash), 512 + 128));\n  }\n\n  /*\n  * Convert a raw string to a hex string\n  */\n  function rstr2hex (input) {\n    var hex_tab = '0123456789abcdef';\n    var output = '';\n    var x;\n    var i;\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i);\n      output += hex_tab.charAt((x >>> 4) & 0x0F) +\n      hex_tab.charAt(x & 0x0F);\n    }\n    return output;\n  }\n\n  /*\n  * Encode a string as utf-8\n  */\n  function str2rstr_utf8 (input) {\n    return unescape(encodeURIComponent(input));\n  }\n\n  /*\n  * Take string arguments and return either raw or hex encoded strings\n  */\n  function raw_md5 (s) {\n    return rstr_md5(str2rstr_utf8(s));\n  }\n  function hex_md5 (s) {\n    return rstr2hex(raw_md5(s));\n  }\n  function raw_hmac_md5 (k, d) {\n    return rstr_hmac_md5(str2rstr_utf8(k), str2rstr_utf8(d));\n  }\n  function hex_hmac_md5 (k, d) {\n    return rstr2hex(raw_hmac_md5(k, d));\n  }\n\n  function md5 (string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hex_md5(string);\n      }\n      return raw_md5(string);\n    }\n    if (!raw) {\n      return hex_hmac_md5(key, string);\n    }\n    return raw_hmac_md5(key, string);\n  }\n\n  module.exports = md5;\n}());\n","var version = require('./version').v;\nvar testmode = require('./testmode');\nvar callbacks = require('./callbacks');\nvar mods = require('./mods');\nvar stash = require('./stash');\nvar dc = require('./collection');\nvar payment_elements = require('./payment_elements');\n\nvar hasOwn = {}.hasOwnProperty;\nvar PingppSDK = function () {\n  require('./init').init();\n};\n\nPingppSDK.prototype = {\n\n  version: version,\n\n  createPayment: function (chargeJSON, callback, signature, debug) {\n    if (typeof callback === 'function') {\n      callbacks.userCallback = callback;\n    }\n\n    payment_elements.init(chargeJSON);\n\n    if (!hasOwn.call(payment_elements, 'id')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_charge_id'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements, 'channel')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_channel'));\n      return;\n    }\n    if (hasOwn.call(payment_elements, 'app')) {\n      if (typeof payment_elements.app === 'string') {\n        stash.app_id = payment_elements.app;\n      } else if (typeof payment_elements.app === 'object' &&\n        typeof payment_elements.app.id === 'string') {\n        stash.app_id = payment_elements.app.id;\n      }\n    }\n    dc.report({\n      type: 'pure_sdk_click',\n      channel: payment_elements.channel,\n      ch_id: payment_elements.id\n    });\n    var channel = payment_elements.channel;\n    if (!hasOwn.call(payment_elements, 'credential')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_credential'));\n      return;\n    }\n    if (!payment_elements.credential) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential_is_undefined'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements.credential, channel)) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_credential', 'credential_is_incorrect'));\n      return;\n    }\n    if (!hasOwn.call(payment_elements, 'livemode')) {\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_charge', 'no_livemode_field'));\n      return;\n    }\n    var channelModule = mods.getChannelModule(channel);\n    if (typeof channelModule === 'undefined') {\n      console.error('channel module \"' + channel + '\" is undefined');\n      callbacks.innerCallback('fail',\n        callbacks.error('invalid_channel',\n          'channel module \"' + channel + '\" is undefined')\n      );\n      return;\n    }\n    if (payment_elements.livemode === false) {\n      if (hasOwn.call(channelModule, 'runTestMode')) {\n        channelModule.runTestMode(payment_elements);\n      } else {\n        testmode.runTestMode(payment_elements);\n      }\n      return;\n    }\n\n    if (typeof signature != 'undefined') {\n      stash.signature = signature;\n    }\n    if (typeof debug == 'boolean') {\n      stash.debug = debug;\n    }\n    channelModule.handleCharge(payment_elements);\n  },\n\n  setAPURL: function (url) {\n    stash.APURL = url;\n  }\n};\n\nmodule.exports = new PingppSDK();\n","var hasOwn = {}.hasOwnProperty;\nvar mods = {};\nmodule.exports = mods;\n\nmods.channels = {\n  wx_pub: require('./channels/wx_pub')\n};\n\nmods.extras = {\n  wx_jssdk: require('./channels/extras/wx_jssdk')\n};\n\nmods.getChannelModule = function(channel) {\n  if (hasOwn.call(mods.channels, channel)) {\n    return mods.channels[channel];\n  }\n  return undefined;\n};\n\nmods.getExtraModule = function(name) {\n  if (hasOwn.call(mods.extras, name)) {\n    return mods.extras[name];\n  }\n  return undefined;\n};\n","/**\n * Created by dong on 2016/12/30.\n */\n\nvar callbacks = require('./callbacks');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n  id: null,\n  or_id: null,\n  channel: null,\n  app: null,\n  credential: {},\n  extra: null,\n  livemode: null,\n  order_no: null,\n  time_expire: null,\n\n  init: function (charge_or_order) {\n    var charge;\n    if (typeof charge_or_order === 'string') {\n      try {\n        charge = JSON.parse(charge_or_order);\n      } catch (err) {\n        callbacks.innerCallback('fail',\n          callbacks.error('json_decode_fail', err));\n        return;\n      }\n    } else {\n      charge = charge_or_order;\n    }\n\n    if (typeof charge === 'undefined') {\n      callbacks.innerCallback('fail', callbacks.error('json_decode_fail'));\n      return;\n    }\n\n    if (hasOwn.call(charge, 'object') && charge.object == 'order') {\n      charge.or_id = charge.id;\n      charge.id = charge.charge;\n      charge.order_no = charge.merchant_order_no;\n      var charge_essentials = charge.charge_essentials;\n      charge.channel = charge_essentials.channel;\n      charge.credential = charge_essentials.credential;\n      charge.extra = charge_essentials.extra;\n    }\n\n    for (var key in this) {\n      if (hasOwn.call(charge, key)) {\n        this[key] = charge[key];\n      }\n    }\n    return this;\n  },\n\n  clear: function () {\n    for (var key in this) {\n      if (typeof this[key] !== 'function') {\n        this[key] = null;\n      }\n    }\n  }\n};","module.exports = {\n};\n","var utils = require('./utils');\nvar hasOwn = {}.hasOwnProperty;\n\nmodule.exports = {\n\n  PINGPP_MOCK_URL: 'http://sissi.pingxx.com/mock.php',\n\n  runTestMode: function (charge) {\n    var params = {\n      'ch_id': charge.id,\n      'scheme': 'http',\n      'channel': charge.channel\n    };\n\n    if (hasOwn.call(charge, 'or_id') && charge.or_id !== null) {\n      params.or_id = charge.or_id;\n    }\n\n    if (hasOwn.call(charge, 'order_no')) {\n      params.order_no = charge.order_no;\n    } else if (hasOwn.call(charge, 'orderNo')) {\n      params.order_no = charge.orderNo;\n    }\n    if (hasOwn.call(charge, 'time_expire')) {\n      params.time_expire = charge.time_expire;\n    } else if (hasOwn.call(charge, 'timeExpire')) {\n      params.time_expire = charge.timeExpire;\n    }\n    if (hasOwn.call(charge, 'extra')) {\n      params.extra = encodeURIComponent(JSON.stringify(charge.extra));\n    }\n    utils.redirectTo(this.PINGPP_MOCK_URL + '?' + utils.stringifyData(params));\n  }\n};\n","var hasOwn = {}.hasOwnProperty;\n\nvar utils = module.exports = {\n\n  /**\n   * 对象转换成 query string\n   * @param object data  待转对象\n   * @param string channel  渠道\n   * @param boolean urlencode  是否需要 urlencode\n   *\n   * @return string query string\n   */\n  stringifyData: function (data, channel, urlencode) {\n    if (typeof urlencode == 'undefined') {\n      urlencode = false;\n    }\n    var output = [];\n    for (var i in data) {\n      if (!hasOwn.call(data, i) || typeof data[i] === 'function') {\n        continue;\n      }\n      if (channel == 'bfb_wap' && i == 'url') {\n        continue;\n      }\n      if (channel == 'yeepay_wap' && i == 'mode') {\n        continue;\n      }\n      if (i == 'channel_url') {\n        continue;\n      }\n      output.push(i + '=' +\n        (urlencode ? encodeURIComponent(data[i]) : data[i]));\n    }\n    return output.join('&');\n  },\n\n  /**\n   * 网络请求\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object requestData  请求数据\n   * @param function successCallback  成功回调 (data, statusCode, xhr)\n   * @param function errorCallback  错误回调 (xhr, statusCode, error)\n   */\n  request: function (url, method, requestData,\n    successCallback, errorCallback, headers) {\n    if (typeof XMLHttpRequest === 'undefined') {\n      console.log('Function XMLHttpRequest is undefined.');\n      return;\n    }\n    var xhr = new XMLHttpRequest();\n    if (typeof xhr.timeout !== 'undefined') {\n      xhr.timeout = 6000;\n    }\n    method = method.toUpperCase();\n\n    if (method === 'GET' && typeof requestData === 'object' && requestData) {\n      url += '?' + utils.stringifyData(requestData, '', true);\n    }\n    xhr.open(method, url, true);\n    if (typeof headers !== 'undefined') {\n      for (var k in headers) {\n        if (hasOwn.call(headers, k)) {\n          xhr.setRequestHeader(k, headers[k]);\n        }\n      }\n    }\n    if (method === 'POST') {\n      xhr.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n      xhr.send(JSON.stringify(requestData));\n    } else {\n      xhr.send();\n    }\n    if (typeof successCallback == 'undefined') {\n      successCallback = function () {};\n    }\n    if (typeof errorCallback == 'undefined') {\n      errorCallback = function () {};\n    }\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        successCallback(xhr.responseText, xhr.status, xhr);\n      }\n    };\n    xhr.onerror = function (e) {\n      errorCallback(xhr, 0, e);\n    };\n  },\n\n  /**\n   * 表单提交\n   * @param string url\n   * @param string method  请求方式, POST, GET ...\n   * @param object params  请求数据\n   */\n  formSubmit: function (url, method, params) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, form submit url: ' + url);\n      return;\n    }\n    var form = document.createElement('form');\n    form.setAttribute('method', method);\n    form.setAttribute('action', url);\n\n    for (var key in params) {\n      if (hasOwn.call(params, key)) {\n        var hiddenField = document.createElement('input');\n        hiddenField.setAttribute('type', 'hidden');\n        hiddenField.setAttribute('name', key);\n        hiddenField.setAttribute('value', params[key]);\n        form.appendChild(hiddenField);\n      }\n    }\n\n    document.body.appendChild(form);\n    form.submit();\n  },\n\n  randomString: function (length) {\n    if (typeof length == 'undefined') {\n      length = 32;\n    }\n    var chars =\n      'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var maxPos = chars.length;\n    var str = '';\n    for (var i = 0; i < length; i++) {\n      str += chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n\n    return str;\n  },\n\n  redirectTo: function (url) {\n    if (typeof window === 'undefined') {\n      console.log('Not a browser, redirect url: ' + url);\n      return;\n    }\n    window.location.href = url;\n  },\n\n  inWeixin: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('micromessenger') !== -1;\n  },\n\n  inAlipay: function () {\n    if (typeof navigator === 'undefined') {\n      return false;\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('alipayclient') !== -1;\n  },\n\n  documentReady: function (fn) {\n    if (typeof document === 'undefined') {\n      fn();\n      return;\n    }\n    if (document.readyState != 'loading') {\n      fn();\n    } else {\n      document.addEventListener('DOMContentLoaded', fn);\n    }\n  },\n\n  loadUrlJs: function (sid, jsurl, callback) {\n    var nodeHead = document.getElementsByTagName('head')[0];\n    var nodeScript = null;\n    if (document.getElementById(sid) == null) {\n      nodeScript = document.createElement('script');\n      nodeScript.setAttribute('type', 'text/javascript');\n      nodeScript.setAttribute('src', jsurl);\n      nodeScript.setAttribute('id', sid);\n      nodeScript.async = true;\n      if (callback != null) {\n        nodeScript.onload = nodeScript.onreadystatechange = function () {\n          if (nodeScript.ready) {\n            return false;\n          }\n\n          if (!nodeScript.readyState || nodeScript.readyState == 'loaded'\n              || nodeScript.readyState == 'complete') {\n            nodeScript.ready = true;\n            callback();\n          }\n        };\n      }\n      nodeHead.appendChild(nodeScript);\n    } else {\n      if (callback != null) {\n        callback();\n      }\n    }\n  }\n};\n","module.exports = {\n  v: '2.1.9'\n};\n"]}